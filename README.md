# websocket-cli-chat

Терминальный чат на WebSocket с простым интерфейсом, реализованный на Rust.

## Возможности

- **Чат-клиент и сервер**: оба запускаются как отдельные процессы (один исполняемый файл, режим определяется параметрами).
- **Поддержка нескольких пользователей**: все сообщения видны всем участникам.
- **Авторизация по токену**: для входа требуется токен.
- **TUI-интерфейс**: история сообщений, ввод, скроллинг.
- **Отправка и получение сообщений**: только текстовые, в формате JSON.
- **Выход из чата**: Ctrl+C.

## Быстрый старт

Чат запускается между двумя пользователями через VPN (или другую локальную сеть).  
Каждый участник должен указать свой адрес и адрес собеседника.

Пример для двух пользователей:

**Первый пользователь:**

```bash
cargo run -- 10.8.1.2:8080 10.8.1.2:8081 r1zzd2 my_secret_token
```

- `10.8.1.2:8080` — собственный адрес (сервер)
- `10.8.1.2:8081` — адрес второго пользователя (клиент)
- `r1zzd2` — ваше имя
- `my_secret_token` — токен

**Второй пользователь:**

```bash
cargo run -- 10.8.1.2:8081 10.8.1.2:8080 r1zzd_bebra my_secret_token
```

- `10.8.1.2:8081` — собственный адрес (сервер)
- `10.8.1.2:8080` — адрес первого пользователя (клиент)
- `r1zzd_bebra` — ваше имя
- `my_secret_token` — токен (должен совпадать)

## Использование

- Введите сообщение и нажмите Enter для отправки.
- Для прокрутки истории используйте стрелки вверх/вниз.
- Для выхода используйте Ctrl+C.

## Протокол сообщений

Сообщения имеют структуру:

```json
{
	"author": "username",
	"text": "your_message",
	"timestamp": "2025-07-13T21:36:46Z",
	"token": "your_token"
}
```

## Ограничения

- Нет поддержки приватных сообщений, комнат, вложений или команд.
- Все сообщения публичны для всех подключённых клиентов.

## Лицензия

MIT
